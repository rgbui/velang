namespace Ve.Lang.Ved {
    import List = Ve.Lang.Util.List;
    export var keyInfos = [
        {
            "text": "Esc",
            "code": 27
        },
        {
            "text": "F1",
            "code": 112
        },
        {
            "text": "F2",
            "code": 113
        },
        {
            "text": "F3",
            "code": 114
        },
        {
            "text": "F4",
            "code": 115
        },
        {
            "text": "F5",
            "code": 116
        },
        {
            "text": "F6",
            "code": 117
        },
        {
            "text": "F7",
            "code": 118
        },
        {
            "text": "F8",
            "code": 119
        },
        {
            "text": "F9",
            "code": 120
        },
        {
            "text": "F10",
            "code": 121
        },
        {
            "text": "F11",
            "code": 122
        },
        {
            "text": "F12",
            "code": 123
        },
        {
            "text": "ScrLk",
            "code": 145
        },
        {
            "text": "Pause",
            "code": 19
        },
        {
            "text": "`",
            "code": 192,
            "name": "tilde"
        },
        {
            "text": "1",
            "code": 49
        },
        {
            "text": "2",
            "code": 50
        },
        {
            "text": "3",
            "code": 51
        },
        {
            "text": "4",
            "code": 52
        },
        {
            "text": "5",
            "code": 53
        },
        {
            "text": "6",
            "code": 54
        },
        {
            "text": "7",
            "code": 55
        },
        {
            "text": "8",
            "code": 56
        },
        {
            "text": "9",
            "code": 57
        },
        {
            "text": "0",
            "code": 48
        },
        {
            "text": "-",
            "code": 189
        },
        {
            "text": "=",
            "code": 187
        },
        {
            "text": "Backspace",
            "code": 8
        },
        {
            "text": "Insert",
            "code": 45
        },
        {
            "text": "Home",
            "code": 36
        },
        {
            "text": "pageUp",
            "code": 33
        },
        {
            "text": "NumLock",
            "code": 144
        },
        {
            "text": "/",
            "code": 111
        },
        {
            "text": "*",
            "code": 106
        },
        {
            "text": "-",
            "code": 109,
            "name": "minus"
        },
        {
            "text": "Tab",
            "code": 9
        },
        {
            "text": "Q",
            "code": 81
        },
        {
            "text": "W",
            "code": 87
        },
        {
            "text": "E",
            "code": 69
        },
        {
            "text": "R",
            "code": 82
        },
        {
            "text": "T",
            "code": 84
        },
        {
            "text": "Y",
            "code": 89
        },
        {
            "text": "U",
            "code": 85
        },
        {
            "text": "I",
            "code": 73
        },
        {
            "text": "O",
            "code": 79
        },
        {
            "text": "P",
            "code": 80
        },
        {
            "text": "[",
            "code": 219
        },
        {
            "text": "]",
            "code": 221
        },
        {
            "text": "Enter",
            "code": 13
        },
        {
            "text": "Delete",
            "code": 46
        },
        {
            "text": "End",
            "code": 35
        },
        {
            "text": "pageDown",
            "code": 34
        },
        {
            "text": "7",
            "code": 103,
            "name": "num-7"
        },
        {
            "text": "8",
            "code": 104
        },
        {
            "text": "9",
            "code": 105
        },
        {
            "text": "+",
            "code": 107,
            "name": "plus"
        },
        {
            "text": "Caps",
            "code": 20
        },
        {
            "text": "A",
            "code": 65
        },
        {
            "text": "S",
            "code": 83
        },
        {
            "text": "D",
            "code": 68
        },
        {
            "text": "F",
            "code": 70
        },
        {
            "text": "G",
            "code": 71
        },
        {
            "text": "H",
            "code": 72
        },
        {
            "text": "J",
            "code": 74
        },
        {
            "text": "K",
            "code": 75
        },
        {
            "text": "L",
            "code": 76
        },
        {
            "text": ";",
            "code": 186
        },
        {
            "text": "'",
            "code": 222
        },
        {
            "text": "\\",
            "code": 220
        },
        {
            "text": "4",
            "code": 100,
            "name": "num-4"
        },
        {
            "text": "5",
            "code": 101
        },
        {
            "text": "6",
            "code": 102,
            "name": "num-6"
        },
        {
            "text": "Shift",
            "code": 16
        },
        {
            "text": "Z",
            "code": 90
        },
        {
            "text": "X",
            "code": 88
        },
        {
            "text": "C",
            "code": 67
        },
        {
            "text": "V",
            "code": 86
        },
        {
            "text": "B",
            "code": 66
        },
        {
            "text": "N",
            "code": 78
        },
        {
            "text": "M",
            "code": 77
        },
        {
            "text": ",",
            "code": 188
        },
        {
            "text": ".",
            "code": 190,
        },
        {
            "text": "/",
            "code": 191
        },
        {
            "text": "arrowUp",
            "code": 38,
            "name": "arrow-up"
        },
        {
            "text": "1",
            "code": 97,
            "name": "num-1"
        },
        {
            "text": "2",
            "code": 98
        },
        {
            "text": "3",
            "code": 99,
            "name": "num-3"
        },
        {
            "text": "Ctrl",
            "code": 17
        },
        {
            "text": "Alt",
            "code": 18
        },
        {
            "text": " ",
            "code": 32,
            "name": "space"
        },
        {
            "text": "arrowLeft",
            "code": 37,
            "name": "arrow-left"
        },
        {
            "text": "arrowDown",
            "code": 40,
            "name": "arrow-down"
        },
        {
            "text": "arrowRight",
            "code": 39,
            "name": "arrow-right"
        },
        {
            "text": "0",
            "code": 96,
            "name": "num-0"
        },
        {
            "text": ".",
            "code": 110,
            "name": "num-point"
        }
    ];
    export class KeyBoard {
        private event: KeyboardEvent;
        constructor(event: KeyboardEvent) {
            this.event = event;
        }
        get isShift() {
            return this.event.shiftKey;
        }
        get isCtrl() {
            return this.event.ctrlKey;
        }
        get isAlt() {
            return this.event.altKey;
        }
        get keys() {
            var ks: List<string> = new List();
            if (this.isCtrl) ks.push('ctrl')
            if (this.isShift) ks.push('shift')
            if (this.isAlt) ks.push('alt')
            var ki = keyInfos.find(x => x.code == this.event.keyCode);
            if (ki) {
                if (!ks.exists(ki.text.toLowerCase())) {
                    ks.push(ki.text.toLowerCase());
                }
            }
            return ks;
        }
        get key() {
            return this.keys.join("+");
        }
        match(key: string) {
            var ks = key.split(/\+/g).map(s => s.trim());
            var keys = this.keys;
            return ks.length <= keys.length && ks.every(k => keys.exists(k));
        }
        everyMatch(key: string) {
            var ks = key.split(/\+/g).map(s => s.trim());
            var keys = this.keys;
            return ks.length == keys.length && ks.every(k => keys.exists(k));
        }
    }
}